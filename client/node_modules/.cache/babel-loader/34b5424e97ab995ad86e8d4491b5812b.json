{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\src\\\\Components\\\\SelectBar.js\";\nimport React from \"react\";\nimport Select from \"react-select\";\nimport AsyncSelect from \"react-select/lib/Async\";\n\nclass SelectBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = newValue => {\n      const inputValue = newValue.replace(/\\W/g, '');\n      this.setState({\n        inputValue\n      });\n      return inputValue;\n    };\n\n    this.state = {\n      inputValue: \"\",\n      suggest: {}\n    };\n    this.loadOptions = this.loadOptions.bind(this);\n  }\n\n  autosuggest() {\n    fetch(\"https://yutong-li.cognitiveservices.azure.com/bing/v7.0/suggestions?mkt=en-US&q=\" + this.state.inputValue, {\n      headers: {\n        'Ocp-Apim-Subscription-Key': 'a42b6d1b1fad47d7b33425d7eea2f04f'\n      }\n    }).then(res => res.json()).then(res => {\n      if (\"suggestionGroups\" in res) {\n        let resfilter = res[\"suggestionGroups\"][\"searchSuggestions\"];\n        let suggestions = new Array();\n\n        for (var i = 0; i < resfilter.length; i++) {\n          suggestions.push(resfilter[i][\"\"]);\n        }\n      }\n\n      console.log(res);\n      console.log(this.state.inputValue);\n    });\n  }\n\n  loadOptions() {\n    this.autosuggest();\n  }\n\n  render() {\n    return React.createElement(AsyncSelect, {\n      placeholder: \"Enter keyword ..\",\n      className: \"selectBar\",\n      onInputChange: this.handleInputChange,\n      loadOptions: this.loadOptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default SelectBar;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/SelectBar.js"],"names":["React","Select","AsyncSelect","SelectBar","Component","constructor","props","handleInputChange","newValue","inputValue","replace","setState","state","suggest","loadOptions","bind","autosuggest","fetch","headers","then","res","json","resfilter","suggestions","Array","i","length","push","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;;AAEA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAyBnBC,iBAzBmB,GAyBEC,QAAD,IAAc;AAC9B,YAAMC,UAAU,GAAGD,QAAQ,CAACE,OAAT,CAAiB,KAAjB,EAAwB,EAAxB,CAAnB;AACA,WAAKC,QAAL,CAAc;AAACF,QAAAA;AAAD,OAAd;AACA,aAAOA,UAAP;AACH,KA7BkB;;AAEf,SAAKG,KAAL,GAAa;AAACH,MAAAA,UAAU,EAAE,EAAb;AAAiBI,MAAAA,OAAO,EAAE;AAA1B,KAAb;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDC,EAAAA,WAAW,GAAG;AACVC,IAAAA,KAAK,CAAC,qFAAqF,KAAKL,KAAL,CAAWH,UAAjG,EAA6G;AAC9GS,MAAAA,OAAO,EAAE;AACL,qCAA6B;AADxB;AADqG,KAA7G,CAAL,CAIGC,IAJH,CAIQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJf,EAKKF,IALL,CAKUC,GAAG,IAAI;AACT,UAAI,sBAAsBA,GAA1B,EAA+B;AAC3B,YAAIE,SAAS,GAAGF,GAAG,CAAC,kBAAD,CAAH,CAAwB,mBAAxB,CAAhB;AACA,YAAIG,WAAW,GAAG,IAAIC,KAAJ,EAAlB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCF,UAAAA,WAAW,CAACI,IAAZ,CAAiBL,SAAS,CAACG,CAAD,CAAT,CAAa,EAAb,CAAjB;AACH;AACJ;;AACDG,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWH,UAAvB;AACH,KAfL;AAgBH;;AAQDK,EAAAA,WAAW,GAAG;AACV,SAAKE,WAAL;AACH;;AAEDc,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,WAAD;AAAa,MAAA,WAAW,EAAC,kBAAzB;AAA4C,MAAA,SAAS,EAAC,WAAtD;AAAkE,MAAA,aAAa,EAAE,KAAKvB,iBAAtF;AACa,MAAA,WAAW,EAAE,KAAKO,WAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAIH;;AAzCmC;;AA4CxC,eAAeX,SAAf","sourcesContent":["import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport AsyncSelect from \"react-select/lib/Async\";\r\n\r\nclass SelectBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {inputValue: \"\", suggest: {}};\r\n        this.loadOptions = this.loadOptions.bind(this);\r\n    }\r\n\r\n    autosuggest() {\r\n        fetch(\"https://yutong-li.cognitiveservices.azure.com/bing/v7.0/suggestions?mkt=en-US&q=\" + this.state.inputValue, {\r\n            headers: {\r\n                'Ocp-Apim-Subscription-Key': 'a42b6d1b1fad47d7b33425d7eea2f04f'\r\n            }\r\n        }).then(res => res.json())\r\n            .then(res => {\r\n                if (\"suggestionGroups\" in res) {\r\n                    let resfilter = res[\"suggestionGroups\"][\"searchSuggestions\"];\r\n                    let suggestions = new Array();\r\n                    for (var i = 0; i < resfilter.length; i++) {\r\n                        suggestions.push(resfilter[i][\"\"])\r\n                    }\r\n                }\r\n                console.log(res);\r\n                console.log(this.state.inputValue);\r\n            })\r\n    }\r\n\r\n    handleInputChange = (newValue) => {\r\n        const inputValue = newValue.replace(/\\W/g, '');\r\n        this.setState({inputValue});\r\n        return inputValue;\r\n    };\r\n\r\n    loadOptions() {\r\n        this.autosuggest();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AsyncSelect placeholder=\"Enter keyword ..\" className=\"selectBar\" onInputChange={this.handleInputChange}\r\n                         loadOptions={this.loadOptions}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SelectBar;\r\n"]},"metadata":{},"sourceType":"module"}