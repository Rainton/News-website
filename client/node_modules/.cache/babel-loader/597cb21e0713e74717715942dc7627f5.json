{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import DetailCard from\"./DetailCard\";import LoadSpinner from\"./LoadSpinner\";var CardList=/*#__PURE__*/function(_Component){_inherits(CardList,_Component);function CardList(props){var _this;_classCallCheck(this,CardList);_this=_possibleConstructorReturn(this,_getPrototypeOf(CardList).call(this,props));_this.state={error:null,isLoaded:false,data:props.data,GuardianChecked:props.checked,section:props.section};return _this;}_createClass(CardList,[{key:\"callGuardian\",value:function callGuardian(s){var _this2=this;if(s===\"\"){fetch(\"http://localhost:9000/guardian\").then(function(res){return res.json();}).then(function(res){_this2.setState({isLoaded:true,data:res});},function(error){_this2.setState({isLoaded:true,error:error});});}else{fetch(\"http://localhost:9000/guardian/\"+s).then(function(res){return res.json();}).then(function(res){_this2.setState({isLoaded:true,data:res});},function(error){_this2.setState({isLoaded:true,error:error});});}}},{key:\"callNYTimes\",value:function callNYTimes(s){var _this3=this;if(s===\"\"){fetch(\"http://localhost:9000/nytimes\").then(function(res){return res.json();}).then(function(res){_this3.setState({isLoaded:true,data:res});},function(error){_this3.setState({isLoaded:true,error:error});});}else{fetch(\"http://localhost:9000/nytimes/\"+s).then(function(res){return res.json();}).then(function(res){_this3.setState({isLoaded:true,data:res});},function(error){_this3.setState({isLoaded:true,error:error});});}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.GuardianChecked)this.callGuardian(this.state.section);else this.callNYTimes(this.state.section);}},{key:\"render\",value:function render(){console.log(this.state);if(this.state.error){return React.createElement(\"div\",null,\"Error: \",this.state.error.message);}else if(!this.state.isLoaded){return React.createElement(LoadSpinner,null);}else{var array=[];for(var i=0;i<this.state.data.length;i++){array.push(React.createElement(DetailCard,{key:i,data:this.state.data[i],checked:this.state.GuardianChecked}));}return React.createElement(\"div\",{style:{boxSizing:\"content-box\"}},array);}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,nextState){if(nextProps.checked!==nextState.GuardianChecked&&nextProps.data.length!==0&&nextProps.data!==nextState.data){return{GuardianChecked:nextProps.checked,data:nextProps.data};}return null;}}]);return CardList;}(Component);export default CardList;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/CardList.js"],"names":["React","Component","DetailCard","LoadSpinner","CardList","props","state","error","isLoaded","data","GuardianChecked","checked","section","s","fetch","then","res","json","setState","callGuardian","callNYTimes","console","log","message","array","i","length","push","boxSizing","nextProps","nextState"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport DetailCard from \"./DetailCard\";\r\nimport LoadSpinner from \"./LoadSpinner\";\r\n\r\nclass CardList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            data: props.data,\r\n            GuardianChecked: props.checked,\r\n            section: props.section\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, nextState) {\r\n        if (nextProps.checked !== nextState.GuardianChecked && nextProps.data.length !== 0 && nextProps.data !== nextState.data) {\r\n            return {\r\n                GuardianChecked: nextProps.checked,\r\n                data: nextProps.data\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    callGuardian(s) {\r\n        if (s === \"\") {\r\n            fetch(\"http://localhost:9000/guardian\")\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        } else {\r\n            fetch(\"http://localhost:9000/guardian/\" + s)\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        }\r\n    }\r\n\r\n    callNYTimes(s) {\r\n        if (s === \"\") {\r\n            fetch(\"http://localhost:9000/nytimes\")\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        } else {\r\n            fetch(\"http://localhost:9000/nytimes/\" + s)\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.GuardianChecked)\r\n            this.callGuardian(this.state.section);\r\n        else\r\n            this.callNYTimes(this.state.section);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        if (this.state.error) {\r\n            return <div>Error: {this.state.error.message}</div>;\r\n        } else if (!this.state.isLoaded) {\r\n            return <LoadSpinner/>;\r\n        } else {\r\n            let array = [];\r\n            for (let i = 0; i < this.state.data.length; i++) {\r\n                array.push(\r\n                    <DetailCard key={i} data={this.state.data[i]} checked={this.state.GuardianChecked}/>\r\n                );\r\n            }\r\n            return (\r\n                <div style={{boxSizing: \"content-box\"}}>\r\n                    {array}\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n}\r\n\r\nexport default CardList;"]},"metadata":{},"sourceType":"module"}