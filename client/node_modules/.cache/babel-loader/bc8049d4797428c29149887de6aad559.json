{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\src\\\\Components\\\\DetailCard.js\";\nimport React from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Image from \"react-bootstrap/Image\";\nimport Badge from \"react-bootstrap/Badge\";\nimport { withRouter } from \"react-router-dom\";\nimport Share from \"./Share\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nclass DetailCard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clickCard = e => {\n      let clickTarget = e.target.localName;\n      console.log(clickTarget);\n      if (clickTarget === \"path\" || clickTarget === \"span\" || clickTarget === \"circle\" || clickTarget === \"svg\") return;\n      let id;\n      if (this.state.GuardianChecked) id = this.state.data['id'];else id = this.state.data['url'];\n      let queryString = \"id=\" + id;\n      this.props.history.push('/article?' + queryString);\n    };\n\n    this.state = {\n      data: props.data,\n      GuardianChecked: props.checked\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, nextState) {\n    if (nextProps.checked !== nextState.GuardianChecked && nextProps.data.length !== 0 && nextProps.data !== nextState.data) {\n      return {\n        GuardianChecked: nextProps.checked,\n        data: nextProps.data\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    let title;\n    let image;\n    let description;\n    let date;\n    let section;\n    let sectionClassName;\n    let url;\n\n    if (this.state.GuardianChecked) {\n      if ('main' in this.state.data['blocks'] && this.state.data['blocks']['main']['elements']['0']['assets'].length !== 0) image = this.state.data['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];else image = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n      title = this.state.data['webTitle'];\n      description = this.state.data['blocks']['body']['0']['bodyTextSummary'];\n      date = this.state.data['webPublicationDate'].slice(0, 10);\n      url = this.state.data['webUrl'];\n      section = this.state.data['sectionId'].toUpperCase();\n      if (section === 'SPORT') section = 'SPORTS';\n      if (section === 'WORLD') sectionClassName = 'badge-world';else if (section === 'POLITICS') sectionClassName = 'badge-politics';else if (section === 'BUSINESS') sectionClassName = 'badge-business';else if (section === 'TECHNOLOGY') sectionClassName = 'badge-technology';else if (section === 'SPORTS') sectionClassName = 'badge-sports';else sectionClassName = 'badge-other';\n    } else {\n      title = this.state.data['title'];\n      description = this.state.data['abstract'];\n      date = this.state.data['published_date'].slice(0, 10);\n      section = this.state.data['section'].toUpperCase();\n      if (section === \"NONE\") section = \"\";\n      url = this.state.data['url'];\n      if ('multimedia' in this.state.data && this.state.data['multimedia'] !== null && this.state.data['multimedia'].length !== 0) image = this.state.data['multimedia']['0']['url'];else image = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\n      if (section === 'WORLD') sectionClassName = 'badge-world';else if (section === 'POLITICS') sectionClassName = 'badge-politics';else if (section === 'BUSINESS') sectionClassName = 'badge-business';else if (section === 'TECHNOLOGY') sectionClassName = 'badge-technology';else if (section === 'SPORTS') sectionClassName = 'badge-sports';else sectionClassName = 'badge-other';\n    }\n\n    return React.createElement(Card, {\n      onClick: this.clickCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"align-items-center justify-content-center\",\n      style: {\n        display: \"flex\",\n        width: \"100%\",\n        height: \"100%\",\n        padding: \"1.25rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Image, {\n      className: \"img-thumbnail img-fluid\",\n      src: image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      md: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, title)), React.createElement(Share, {\n      url: url,\n      title: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(Card.Text, {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, description), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, date), React.createElement(Badge, {\n      className: sectionClassName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, section)))))));\n  }\n\n}\n\nexport default withRouter(DetailCard);","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/DetailCard.js"],"names":["React","Card","Image","Badge","withRouter","Share","Row","Col","DetailCard","Component","constructor","props","clickCard","e","clickTarget","target","localName","console","log","id","state","GuardianChecked","data","queryString","history","push","checked","getDerivedStateFromProps","nextProps","nextState","length","render","title","image","description","date","section","sectionClassName","url","slice","toUpperCase","display","width","height","padding"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Badge from \"react-bootstrap/Badge\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport Share from \"./Share\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nclass DetailCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n            GuardianChecked: props.checked,\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, nextState) {\r\n        if (nextProps.checked !== nextState.GuardianChecked && nextProps.data.length !== 0 && nextProps.data !== nextState.data) {\r\n            return {\r\n                GuardianChecked: nextProps.checked,\r\n                data: nextProps.data\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    clickCard = e => {\r\n        let clickTarget = e.target.localName;\r\n        console.log(clickTarget);\r\n        if (clickTarget === \"path\" || clickTarget === \"span\" || clickTarget === \"circle\" || clickTarget === \"svg\")\r\n            return;\r\n        let id;\r\n        if (this.state.GuardianChecked)\r\n            id = this.state.data['id'];\r\n        else\r\n            id = this.state.data['url'];\r\n        let queryString = \"id=\" + id;\r\n        this.props.history.push('/article?' + queryString);\r\n    };\r\n\r\n    render() {\r\n        let title;\r\n        let image;\r\n        let description;\r\n        let date;\r\n        let section;\r\n        let sectionClassName;\r\n        let url;\r\n        if (this.state.GuardianChecked) {\r\n            if ('main' in this.state.data['blocks'] && this.state.data['blocks']['main']['elements']['0']['assets'].length !== 0)\r\n                image = this.state.data['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];\r\n            else\r\n                image = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\r\n            title = this.state.data['webTitle'];\r\n            description = this.state.data['blocks']['body']['0']['bodyTextSummary'];\r\n            date = this.state.data['webPublicationDate'].slice(0, 10);\r\n            url = this.state.data['webUrl'];\r\n            section = this.state.data['sectionId'].toUpperCase();\r\n            if (section === 'SPORT')\r\n                section = 'SPORTS';\r\n            if (section === 'WORLD')\r\n                sectionClassName = 'badge-world';\r\n            else if (section === 'POLITICS')\r\n                sectionClassName = 'badge-politics';\r\n            else if (section === 'BUSINESS')\r\n                sectionClassName = 'badge-business';\r\n            else if (section === 'TECHNOLOGY')\r\n                sectionClassName = 'badge-technology';\r\n            else if (section === 'SPORTS')\r\n                sectionClassName = 'badge-sports';\r\n            else\r\n                sectionClassName = 'badge-other';\r\n\r\n        } else {\r\n            title = this.state.data['title'];\r\n            description = this.state.data['abstract'];\r\n            date = this.state.data['published_date'].slice(0, 10);\r\n            section = this.state.data['section'].toUpperCase();\r\n            if (section === \"NONE\")\r\n                section = \"\";\r\n            url = this.state.data['url'];\r\n            if ('multimedia' in this.state.data && this.state.data['multimedia'] !== null && this.state.data['multimedia'].length !== 0)\r\n                image = this.state.data['multimedia']['0']['url'];\r\n            else\r\n                image = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\r\n            if (section === 'WORLD')\r\n                sectionClassName = 'badge-world';\r\n            else if (section === 'POLITICS')\r\n                sectionClassName = 'badge-politics';\r\n            else if (section === 'BUSINESS')\r\n                sectionClassName = 'badge-business';\r\n            else if (section === 'TECHNOLOGY')\r\n                sectionClassName = 'badge-technology';\r\n            else if (section === 'SPORTS')\r\n                sectionClassName = 'badge-sports';\r\n            else\r\n                sectionClassName = 'badge-other';\r\n        }\r\n        return (\r\n            <Card onClick={this.clickCard}>\r\n                <div className=\"container-fluid\">\r\n                    <Row>\r\n                        <Col md={3}>\r\n                            <div className=\"align-items-center justify-content-center\"\r\n                                 style={{display: \"flex\", width: \"100%\", height: \"100%\", padding: \"1.25rem\"}}>\r\n                                <Image className=\"img-thumbnail img-fluid\" src={image}/>\r\n                            </div>\r\n                        </Col>\r\n                        <Col md={9}>\r\n                            <Card.Body>\r\n                                <Card.Title>\r\n                                    <strong><em>{title}</em></strong>\r\n                                    <Share url={url} title={title}/>\r\n                                </Card.Title>\r\n                                <Card.Text className=\"description\">\r\n                                    {description}\r\n                                </Card.Text>\r\n                                <Card.Text>\r\n                                    <em>{date}</em>\r\n                                    <Badge className={sectionClassName}>{section}</Badge>\r\n                                </Card.Text>\r\n                            </Card.Body>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailCard);"]},"metadata":{},"sourceType":"module"}