{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import Card from\"react-bootstrap/Card\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import Image from\"react-bootstrap/Image\";import LoadSpinner from\"./LoadSpinner\";import DetailShare from\"./DetailShare\";import{FaRegBookmark,FaBookmark,IoIosArrowDown,IoIosArrowUp}from\"react-icons/all\";import{Element,animateScroll as scroll,scroller}from'react-scroll';import{Events}from\"react-scroll\";import ReactTooltip from\"react-tooltip\";import{toast,ToastContainer,Zoom}from\"react-toastify\";import Comment from\"./Comment\";var DetailArticle=/*#__PURE__*/function(_React$Component){_inherits(DetailArticle,_React$Component);function DetailArticle(props){var _this;_classCallCheck(this,DetailArticle);_this=_possibleConstructorReturn(this,_getPrototypeOf(DetailArticle).call(this,props));_this.callGuardian=function(id){fetch(\"https://yli59322-hw8-571-backend.appspot.com/guardian/article\"+id).then(function(res){return res.json();}).then(function(res){_this.setState({isLoaded:true,data:res['response']['content']});},function(error){_this.setState({isLoaded:true,error:error});}).then(function(){_this.setState({scrollHeight:_this.desRef.current.scrollHeight});_this.setState({clientHeight:_this.desRef.current.clientHeight});if(_this.desRef.current.scrollHeight===_this.desRef.current.clientHeight)document.getElementById(\"arrow-down\").style.display=\"none\";if(_this.state.bookmarkChecked){document.getElementById(\"small-bookmark-unchecked\").style.display=\"none\";document.getElementById(\"small-bookmark-checked\").style.display=\"block\";document.getElementById(\"big-bookmark-unchecked\").style.display=\"none\";document.getElementById(\"big-bookmark-checked\").style.display=\"block\";}});};_this.callNYTimes=function(id){fetch(\"https://yli59322-hw8-571-backend.appspot.com/nytimes/article\"+id).then(function(res){return res.json();}).then(function(res){_this.setState({isLoaded:true,data:res['response']['docs']});},function(error){_this.setState({isLoaded:true,error:error});}).then(function(){_this.setState({scrollHeight:_this.desRef.current.scrollHeight});_this.setState({clientHeight:_this.desRef.current.clientHeight});if(_this.desRef.current.scrollHeight===_this.desRef.current.clientHeight)document.getElementById(\"arrow-down\").style.display=\"none\";if(_this.state.bookmarkChecked){document.getElementById(\"small-bookmark-unchecked\").style.display=\"none\";document.getElementById(\"small-bookmark-checked\").style.display=\"block\";document.getElementById(\"big-bookmark-unchecked\").style.display=\"none\";document.getElementById(\"big-bookmark-checked\").style.display=\"block\";}});};_this.expand=function(){document.getElementById(\"small-card\").style.display=\"none\";document.getElementById(\"big-card\").style.display=\"flex\";_this.scrollToBottom();};_this.fold=function(){_this.scrollUp();};_this.scrollToBottom=function(){scroller.scrollTo('scroll-to-bottom',{duration:800,delay:0,smooth:true,offset:_this.state.clientHeight});};_this.scrollUp=function(){scroller.scrollTo('scroll-to-element',{duration:800,delay:0,smooth:true});};_this.bookmarkClick=function(){document.getElementById(\"small-bookmark-unchecked\").style.display=\"none\";document.getElementById(\"small-bookmark-checked\").style.display=\"block\";document.getElementById(\"big-bookmark-unchecked\").style.display=\"none\";document.getElementById(\"big-bookmark-checked\").style.display=\"block\";var title;if(_this.state.GuardianChecked)title=_this.state.data['webTitle'];else title=_this.state.data[0]['headline']['main'];toast(\"Saving \"+title);var bookmarks;if(window.localStorage.getItem(\"bookmarks\")){bookmarks=JSON.parse(window.localStorage.getItem(\"bookmarks\"));}else{bookmarks=[];}bookmarks.push(_this.state.id);window.localStorage.setItem(\"bookmarks\",JSON.stringify(bookmarks));console.log(JSON.parse(window.localStorage.getItem(\"bookmarks\")));};_this.bookmarkUnClick=function(){document.getElementById(\"small-bookmark-unchecked\").style.display=\"block\";document.getElementById(\"small-bookmark-checked\").style.display=\"none\";document.getElementById(\"big-bookmark-unchecked\").style.display=\"block\";document.getElementById(\"big-bookmark-checked\").style.display=\"none\";var title;if(_this.state.GuardianChecked)title=_this.state.data['webTitle'];else title=_this.state.data[0]['headline']['main'];toast(\"Removing - \"+title);var bookmarks=JSON.parse(window.localStorage.getItem(\"bookmarks\"));var newbookmarks=[];for(var i=0;i<bookmarks.length;i++){if(bookmarks[i]!==_this.state.id)newbookmarks.push(bookmarks[i]);}window.localStorage.setItem(\"bookmarks\",JSON.stringify(newbookmarks));console.log(JSON.parse(window.localStorage.getItem(\"bookmarks\")));};var isBookmarked=false;if(window.localStorage.getItem(\"bookmarks\")){var bookmarks=JSON.parse(window.localStorage.getItem(\"bookmarks\"));for(var i=0;i<bookmarks.length;i++){if(bookmarks[i]===props.id){isBookmarked=true;break;}}}_this.state={error:null,isLoaded:false,data:[],GuardianChecked:props.checked,id:props.id,bookmarkChecked:isBookmarked};_this.smallRef=React.createRef();_this.desRef=React.createRef();_this.bigRef=React.createRef();return _this;}_createClass(DetailArticle,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.GuardianChecked)this.callGuardian(this.state.id);else this.callNYTimes(this.state.id);Events.scrollEvent.register('begin',function(){console.log(\"begin\",arguments);});Events.scrollEvent.register('end',function(){console.log(\"end\",arguments);if(arguments[0]===\"scroll-to-element\"){document.getElementById(\"small-card\").style.display=\"flex\";document.getElementById(\"big-card\").style.display=\"none\";}});}},{key:\"render\",value:function render(){if(this.state.error){return React.createElement(\"div\",null,\"Error: \",this.state.error.message);}else if(!this.state.isLoaded){return React.createElement(LoadSpinner,null);}else{var title;var image;var date;var url;var description;if(this.state.GuardianChecked){title=this.state.data['webTitle'];date=this.state.data['webPublicationDate'].slice(0,10);description=this.state.data['blocks']['body']['0']['bodyTextSummary'];url=this.state.data['webUrl'];if('main'in this.state.data['blocks']&&this.state.data['blocks']['main']['elements']['0']['assets'].length!==0)image=this.state.data['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];else image='https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';}else{title=this.state.data[0]['headline']['main'];date=this.state.data[0]['pub_date'].slice(0,10);description=this.state.data[0]['abstract'];url=this.state.data[0]['web_url'];if('multimedia'in this.state.data[0]&&this.state.data[0]['multimedia']!==null&&this.state.data[0]['multimedia'].length!==0){var i=0;for(;i<this.state.data[0]['multimedia'].length;i++){if(this.state.data[0]['multimedia'][i]['width']>=2000)break;}if(i<this.state.data[0]['multimedia'].length){var tmpUrl=this.state.data[0]['multimedia'][i]['url'];if(tmpUrl[0]==='i')image='https://www.nytimes.com/'+tmpUrl;else image=tmpUrl;}else image='https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';}else image='https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';}return React.createElement(\"div\",{style:{boxSizing:\"content-box\"}},React.createElement(Row,null,React.createElement(ToastContainer,{transition:Zoom,position:\"top-center\",autoClose:3000,hideProgressBar:true,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnVisibilityChange:true,draggable:false,pauseOnHover:true,bodyClassName:\"toast-body\",style:{\"font-size\":\"0.8rem\"}}),React.createElement(Element,{name:\"scroll-to-element\",className:\"element\"}),React.createElement(Card,{className:\"detailCard\",ref:this.smallRef,id:\"small-card\"},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(Card.Body,null,React.createElement(Card.Title,null,React.createElement(\"strong\",null,React.createElement(\"em\",null,title))),React.createElement(Card.Text,{style:{\"marginBottom\":0}},React.createElement(Row,null,React.createElement(Col,{md:8,sm:5,xs:5},React.createElement(\"em\",null,date)),React.createElement(Col,{md:3,sm:5,xs:5},React.createElement(DetailShare,{url:url})),React.createElement(Col,{md:1,sm:2,xs:2},React.createElement(\"p\",{\"data-tip\":\"Bookmark\",\"data-for\":\"BookmarkDeTT\",\"data-offset\":\"{'left' : -5, 'right' : -5}\",style:{\"float\":\"right\"}},React.createElement(FaRegBookmark,{id:\"small-bookmark-unchecked\",onClick:this.bookmarkClick}),React.createElement(FaBookmark,{id:\"small-bookmark-checked\",onClick:this.bookmarkUnClick})),React.createElement(ReactTooltip,{id:\"BookmarkDeTT\",place:\"top\",effect:\"solid\"})))),React.createElement(\"div\",{className:\"align-items-center justify-content-center\",style:{display:\"flex\",width:\"100%\",height:\"100%\"},id:\"scroll-to\"},React.createElement(Image,{className:\"img-fluid\",src:image})),React.createElement(Card.Text,{className:\"detailDescription\",ref:this.desRef,id:\"small-description\"},description),React.createElement(IoIosArrowDown,{style:{\"height\":\"1.5em\",\"width\":\"1.5em\",\"float\":\"right\"},onClick:this.expand,id:\"arrow-down\"})))),React.createElement(Card,{className:\"detailCard\",ref:this.bigRef,id:\"big-card\"},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(Card.Body,null,React.createElement(Card.Title,null,React.createElement(\"strong\",null,React.createElement(\"em\",null,title))),React.createElement(Card.Text,{style:{\"marginBottom\":0}},React.createElement(Row,null,React.createElement(Col,{md:8,sm:5,xs:5},React.createElement(\"em\",null,date)),React.createElement(Col,{md:3,sm:5,xs:5},React.createElement(DetailShare,{url:url})),React.createElement(Col,{md:1,sm:2,xs:2},React.createElement(\"p\",{\"data-tip\":\"Bookmark\",\"data-for\":\"BookmarkDeTT\",\"data-offset\":\"{'left' : -5, 'right' : -5}\",style:{\"float\":\"right\"}},React.createElement(FaRegBookmark,{id:\"big-bookmark-unchecked\",onClick:this.bookmarkClick}),React.createElement(FaBookmark,{id:\"big-bookmark-checked\",onClick:this.bookmarkUnClick})),React.createElement(ReactTooltip,{id:\"BookmarkDeTT\",place:\"top\",effect:\"solid\"})))),React.createElement(\"div\",{className:\"align-items-center justify-content-center\",style:{display:\"flex\",width:\"100%\",height:\"100%\"}},React.createElement(Image,{className:\"img-fluid\",src:image})),React.createElement(Element,{name:\"scroll-to-bottom\",className:\"element\"}),React.createElement(Card.Text,{className:\"detailDescription\",id:\"big-description\"},description),React.createElement(IoIosArrowUp,{style:{\"height\":\"1.5em\",\"width\":\"1.5em\",\"float\":\"right\"},onClick:this.fold,id:\"arrow-up\"}))))),React.createElement(Row,null,React.createElement(Comment,{id:this.props.id})));}}}]);return DetailArticle;}(React.Component);export default DetailArticle;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/DetailArticle.js"],"names":["React","Card","Row","Col","Image","LoadSpinner","DetailShare","FaRegBookmark","FaBookmark","IoIosArrowDown","IoIosArrowUp","Element","animateScroll","scroll","scroller","Events","ReactTooltip","toast","ToastContainer","Zoom","Comment","DetailArticle","props","callGuardian","id","fetch","then","res","json","setState","isLoaded","data","error","scrollHeight","desRef","current","clientHeight","document","getElementById","style","display","state","bookmarkChecked","callNYTimes","expand","scrollToBottom","fold","scrollUp","scrollTo","duration","delay","smooth","offset","bookmarkClick","title","GuardianChecked","bookmarks","window","localStorage","getItem","JSON","parse","push","setItem","stringify","console","log","bookmarkUnClick","newbookmarks","i","length","isBookmarked","checked","smallRef","createRef","bigRef","scrollEvent","register","arguments","message","image","date","url","description","slice","tmpUrl","boxSizing","width","height","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport LoadSpinner from \"./LoadSpinner\";\r\nimport DetailShare from \"./DetailShare\";\r\nimport {FaRegBookmark, FaBookmark, IoIosArrowDown, IoIosArrowUp} from \"react-icons/all\";\r\nimport {Element, animateScroll as scroll, scroller} from 'react-scroll';\r\nimport {Events} from \"react-scroll\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {toast, ToastContainer, Zoom} from \"react-toastify\";\r\nimport Comment from \"./Comment\";\r\n\r\nclass DetailArticle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let isBookmarked = false;\r\n        if (window.localStorage.getItem(\"bookmarks\")) {\r\n            let bookmarks = JSON.parse(window.localStorage.getItem(\"bookmarks\"));\r\n            for (let i = 0; i < bookmarks.length; i++) {\r\n                if (bookmarks[i] === props.id) {\r\n                    isBookmarked = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            data: [],\r\n            GuardianChecked: props.checked,\r\n            id: props.id,\r\n            bookmarkChecked: isBookmarked\r\n        };\r\n        this.smallRef = React.createRef();\r\n        this.desRef = React.createRef();\r\n        this.bigRef = React.createRef();\r\n    }\r\n\r\n    callGuardian = (id) => {\r\n        fetch(\"https://yli59322-hw8-571-backend.appspot.com/guardian/article\" + id)\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    this.setState({isLoaded: true, data: res['response']['content']});\r\n                }, error => {\r\n                    this.setState({isLoaded: true, error});\r\n                })\r\n            .then(\r\n                () => {\r\n                    this.setState({scrollHeight: this.desRef.current.scrollHeight});\r\n                    this.setState({clientHeight: this.desRef.current.clientHeight});\r\n                    if (this.desRef.current.scrollHeight === this.desRef.current.clientHeight)\r\n                        document.getElementById(\"arrow-down\").style.display = \"none\";\r\n                    if (this.state.bookmarkChecked) {\r\n                        document.getElementById(\"small-bookmark-unchecked\").style.display = \"none\";\r\n                        document.getElementById(\"small-bookmark-checked\").style.display = \"block\";\r\n                        document.getElementById(\"big-bookmark-unchecked\").style.display = \"none\";\r\n                        document.getElementById(\"big-bookmark-checked\").style.display = \"block\";\r\n                    }\r\n                }\r\n            )\r\n    };\r\n\r\n    callNYTimes = (id) => {\r\n        fetch(\"https://yli59322-hw8-571-backend.appspot.com/nytimes/article\" + id)\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    this.setState({isLoaded: true, data: res['response']['docs']});\r\n                }, error => {\r\n                    this.setState({isLoaded: true, error});\r\n                })\r\n            .then(\r\n                () => {\r\n                    this.setState({scrollHeight: this.desRef.current.scrollHeight});\r\n                    this.setState({clientHeight: this.desRef.current.clientHeight});\r\n                    if (this.desRef.current.scrollHeight === this.desRef.current.clientHeight)\r\n                        document.getElementById(\"arrow-down\").style.display = \"none\";\r\n                    if (this.state.bookmarkChecked) {\r\n                        document.getElementById(\"small-bookmark-unchecked\").style.display = \"none\";\r\n                        document.getElementById(\"small-bookmark-checked\").style.display = \"block\";\r\n                        document.getElementById(\"big-bookmark-unchecked\").style.display = \"none\";\r\n                        document.getElementById(\"big-bookmark-checked\").style.display = \"block\";\r\n                    }\r\n                }\r\n            )\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.state.GuardianChecked)\r\n            this.callGuardian(this.state.id);\r\n        else\r\n            this.callNYTimes(this.state.id);\r\n        Events.scrollEvent.register('begin', function () {\r\n            console.log(\"begin\", arguments);\r\n        });\r\n\r\n        Events.scrollEvent.register('end', function () {\r\n            console.log(\"end\", arguments);\r\n            if (arguments[0] === \"scroll-to-element\") {\r\n                document.getElementById(\"small-card\").style.display = \"flex\";\r\n                document.getElementById(\"big-card\").style.display = \"none\";\r\n            }\r\n        });\r\n    }\r\n\r\n    expand = () => {\r\n        document.getElementById(\"small-card\").style.display = \"none\";\r\n        document.getElementById(\"big-card\").style.display = \"flex\";\r\n        this.scrollToBottom();\r\n    };\r\n\r\n    fold = () => {\r\n        this.scrollUp();\r\n    };\r\n\r\n    scrollToBottom = () => {\r\n        scroller.scrollTo('scroll-to-bottom', {\r\n            duration: 800,\r\n            delay: 0,\r\n            smooth: true,\r\n            offset: this.state.clientHeight\r\n        })\r\n    };\r\n\r\n    scrollUp = () => {\r\n        scroller.scrollTo('scroll-to-element', {\r\n            duration: 800,\r\n            delay: 0,\r\n            smooth: true\r\n        })\r\n    };\r\n\r\n    bookmarkClick = () => {\r\n        document.getElementById(\"small-bookmark-unchecked\").style.display = \"none\";\r\n        document.getElementById(\"small-bookmark-checked\").style.display = \"block\";\r\n        document.getElementById(\"big-bookmark-unchecked\").style.display = \"none\";\r\n        document.getElementById(\"big-bookmark-checked\").style.display = \"block\";\r\n        let title;\r\n        if (this.state.GuardianChecked)\r\n            title = this.state.data['webTitle'];\r\n        else\r\n            title = this.state.data[0]['headline']['main'];\r\n        toast(\"Saving \" + title);\r\n        let bookmarks;\r\n        if (window.localStorage.getItem(\"bookmarks\")) {\r\n            bookmarks = JSON.parse(window.localStorage.getItem(\"bookmarks\"));\r\n        } else {\r\n            bookmarks = [];\r\n        }\r\n        bookmarks.push(this.state.id);\r\n        window.localStorage.setItem(\"bookmarks\", JSON.stringify(bookmarks));\r\n        console.log(JSON.parse(window.localStorage.getItem(\"bookmarks\")));\r\n    };\r\n\r\n    bookmarkUnClick = () => {\r\n        document.getElementById(\"small-bookmark-unchecked\").style.display = \"block\";\r\n        document.getElementById(\"small-bookmark-checked\").style.display = \"none\";\r\n        document.getElementById(\"big-bookmark-unchecked\").style.display = \"block\";\r\n        document.getElementById(\"big-bookmark-checked\").style.display = \"none\";\r\n        let title;\r\n        if (this.state.GuardianChecked)\r\n            title = this.state.data['webTitle'];\r\n        else\r\n            title = this.state.data[0]['headline']['main'];\r\n        toast(\"Removing - \" + title);\r\n        let bookmarks = JSON.parse(window.localStorage.getItem(\"bookmarks\"));\r\n        let newbookmarks = [];\r\n        for (let i = 0; i < bookmarks.length; i++) {\r\n            if (bookmarks[i] !== this.state.id)\r\n                newbookmarks.push(bookmarks[i]);\r\n        }\r\n        window.localStorage.setItem(\"bookmarks\", JSON.stringify(newbookmarks));\r\n        console.log(JSON.parse(window.localStorage.getItem(\"bookmarks\")));\r\n    };\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <div>Error: {this.state.error.message}</div>;\r\n        } else if (!this.state.isLoaded) {\r\n            return <LoadSpinner/>;\r\n        } else {\r\n            let title;\r\n            let image;\r\n            let date;\r\n            let url;\r\n            let description;\r\n            if (this.state.GuardianChecked) {\r\n                title = this.state.data['webTitle'];\r\n                date = this.state.data['webPublicationDate'].slice(0, 10);\r\n                description = this.state.data['blocks']['body']['0']['bodyTextSummary'];\r\n                url = this.state.data['webUrl'];\r\n                if ('main' in this.state.data['blocks'] && this.state.data['blocks']['main']['elements']['0']['assets'].length !== 0)\r\n                    image = this.state.data['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];\r\n                else\r\n                    image = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\r\n            } else {\r\n                title = this.state.data[0]['headline']['main'];\r\n                date = this.state.data[0]['pub_date'].slice(0, 10);\r\n                description = this.state.data[0]['abstract'];\r\n                url = this.state.data[0]['web_url'];\r\n                if ('multimedia' in this.state.data[0] && this.state.data[0]['multimedia'] !== null && this.state.data[0]['multimedia'].length !== 0) {\r\n                    let i = 0;\r\n                    for (; i < this.state.data[0]['multimedia'].length; i++) {\r\n                        if (this.state.data[0]['multimedia'][i]['width'] >= 2000)\r\n                            break;\r\n                    }\r\n                    if (i < this.state.data[0]['multimedia'].length) {\r\n                        let tmpUrl = this.state.data[0]['multimedia'][i]['url'];\r\n                        if (tmpUrl[0] === 'i')\r\n                            image = 'https://www.nytimes.com/' + tmpUrl;\r\n                        else\r\n                            image = tmpUrl;\r\n                    } else\r\n                        image = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\r\n                } else\r\n                    image = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\r\n            }\r\n            return (\r\n                <div style={{boxSizing: \"content-box\"}}>\r\n                    <Row>\r\n                        <ToastContainer\r\n                            transition={Zoom}\r\n                            position=\"top-center\"\r\n                            autoClose={3000}\r\n                            hideProgressBar\r\n                            newestOnTop={false}\r\n                            closeOnClick\r\n                            rtl={false}\r\n                            pauseOnVisibilityChange\r\n                            draggable={false}\r\n                            pauseOnHover\r\n                            bodyClassName=\"toast-body\"\r\n                            style={{\"font-size\": \"0.8rem\"}}\r\n                        />\r\n                        <Element name=\"scroll-to-element\" className=\"element\"></Element>\r\n                        <Card className=\"detailCard\" ref={this.smallRef} id=\"small-card\">\r\n                            <div className=\"container-fluid\">\r\n                                <Card.Body>\r\n                                    <Card.Title>\r\n                                        <strong><em>{title}</em></strong>\r\n                                    </Card.Title>\r\n                                    <Card.Text style={{\"marginBottom\": 0}}>\r\n                                        <Row>\r\n                                            <Col md={8} sm={5} xs={5}>\r\n                                                <em>{date}</em>\r\n                                            </Col>\r\n                                            <Col md={3} sm={5} xs={5}>\r\n                                                <DetailShare url={url}/>\r\n                                            </Col>\r\n                                            <Col md={1} sm={2} xs={2}>\r\n                                                <p data-tip=\"Bookmark\"\r\n                                                   data-for=\"BookmarkDeTT\"\r\n                                                   data-offset=\"{'left' : -5, 'right' : -5}\"\r\n                                                   style={{\"float\": \"right\"}}\r\n                                                >\r\n                                                    <FaRegBookmark id=\"small-bookmark-unchecked\"\r\n                                                                   onClick={this.bookmarkClick}/>\r\n                                                    <FaBookmark id=\"small-bookmark-checked\"\r\n                                                                onClick={this.bookmarkUnClick}/>\r\n                                                </p>\r\n                                                <ReactTooltip\r\n                                                    id=\"BookmarkDeTT\"\r\n                                                    place=\"top\"\r\n                                                    effect=\"solid\"\r\n                                                />\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Text>\r\n                                    <div className=\"align-items-center justify-content-center\"\r\n                                         style={{display: \"flex\", width: \"100%\", height: \"100%\"}}\r\n                                         id=\"scroll-to\"\r\n                                    >\r\n                                        <Image className=\"img-fluid\" src={image}/>\r\n                                    </div>\r\n                                    <Card.Text className=\"detailDescription\" ref={this.desRef} id=\"small-description\">\r\n                                        {description}\r\n                                    </Card.Text>\r\n                                    <IoIosArrowDown\r\n                                        style={{\"height\": \"1.5em\", \"width\": \"1.5em\", \"float\": \"right\"}}\r\n                                        onClick={this.expand}\r\n                                        id=\"arrow-down\"\r\n                                    />\r\n                                </Card.Body>\r\n                            </div>\r\n                        </Card>\r\n                        <Card className=\"detailCard\" ref={this.bigRef} id=\"big-card\">\r\n                            <div className=\"container-fluid\">\r\n                                <Card.Body>\r\n                                    <Card.Title>\r\n                                        <strong><em>{title}</em></strong>\r\n                                    </Card.Title>\r\n                                    <Card.Text style={{\"marginBottom\": 0}}>\r\n                                        <Row>\r\n                                            <Col md={8} sm={5} xs={5}>\r\n                                                <em>{date}</em>\r\n                                            </Col>\r\n                                            <Col md={3} sm={5} xs={5}>\r\n                                                <DetailShare url={url}/>\r\n                                            </Col>\r\n                                            <Col md={1} sm={2} xs={2}>\r\n                                                <p data-tip=\"Bookmark\"\r\n                                                   data-for=\"BookmarkDeTT\"\r\n                                                   data-offset=\"{'left' : -5, 'right' : -5}\"\r\n                                                   style={{\"float\": \"right\"}}\r\n                                                >\r\n                                                    <FaRegBookmark id=\"big-bookmark-unchecked\"\r\n                                                                   onClick={this.bookmarkClick}/>\r\n                                                    <FaBookmark id=\"big-bookmark-checked\"\r\n                                                                onClick={this.bookmarkUnClick}/>\r\n                                                </p>\r\n                                                <ReactTooltip\r\n                                                    id=\"BookmarkDeTT\"\r\n                                                    place=\"top\"\r\n                                                    effect=\"solid\"\r\n                                                />\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Text>\r\n                                    <div className=\"align-items-center justify-content-center\"\r\n                                         style={{display: \"flex\", width: \"100%\", height: \"100%\"}}>\r\n                                        <Image className=\"img-fluid\" src={image}/>\r\n                                    </div>\r\n                                    <Element name=\"scroll-to-bottom\" className=\"element\"></Element>\r\n                                    <Card.Text className=\"detailDescription\" id=\"big-description\">\r\n                                        {description}\r\n                                    </Card.Text>\r\n                                    <IoIosArrowUp\r\n                                        style={{\"height\": \"1.5em\", \"width\": \"1.5em\", \"float\": \"right\"}}\r\n                                        onClick={this.fold}\r\n                                        id=\"arrow-up\"\r\n                                    />\r\n                                </Card.Body>\r\n                            </div>\r\n                        </Card>\r\n                    </Row>\r\n                    <Row>\r\n                        <Comment id={this.props.id}/>\r\n                    </Row>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default DetailArticle;"]},"metadata":{},"sourceType":"module"}