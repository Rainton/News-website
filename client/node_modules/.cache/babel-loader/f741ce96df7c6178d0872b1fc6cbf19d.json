{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\src\\\\Components\\\\SelectBar.js\";\nimport React from \"react\";\nimport AsyncSelect from \"react-select/lib/Async\";\n\nclass SelectBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.testfunc = () => {\n      var testa = [{\n        value: 'a',\n        label: 'a'\n      }, {\n        value: 'b',\n        label: 'b'\n      }, {\n        value: 'c',\n        label: 'c'\n      }];\n      console.log(testa);\n      return testa;\n    };\n\n    this.loadOptions = (inputValue, callback) => {\n      setTimeout(() => {\n        callback(this.testfun());\n      }, 1000);\n    };\n\n    this.handleInputChange = newValue => {\n      const inputValue = newValue.replace(/\\W/g, '');\n      this.setState({\n        inputValue\n      });\n      return inputValue;\n    };\n\n    this.state = {\n      inputValue: \"\"\n    };\n  }\n\n  async autosuggest() {\n    const response = await fetch(\"https://yutong-li.cognitiveservices.azure.com/bing/v7.0/suggestions?mkt=en-US&q=\" + this.state.inputValue, {\n      headers: {\n        'Ocp-Apim-Subscription-Key': 'a42b6d1b1fad47d7b33425d7eea2f04f'\n      }\n    });\n    const res = await response.json();\n    let suggestions = [];\n    console.log(res);\n\n    if (\"suggestionGroups\" in res) {\n      var resfilter = res[\"suggestionGroups\"][0][\"searchSuggestions\"];\n\n      for (var i = 0; i < resfilter.length; i++) {\n        let val = resfilter[i][\"displayText\"];\n        suggestions.push({\n          value: val,\n          label: val\n        });\n      }\n    } //return suggestions;\n\n\n    var testa = [{\n      value: 'a',\n      label: 'a'\n    }, {\n      value: 'b',\n      label: 'b'\n    }, {\n      value: 'c',\n      label: 'c'\n    }];\n    console.log(testa);\n    return testa;\n  }\n\n  render() {\n    return React.createElement(AsyncSelect, {\n      placeholder: \"Enter keyword ..\",\n      className: \"selectBar\",\n      onInputChange: this.handleInputChange,\n      loadOptions: this.loadOptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default SelectBar;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/SelectBar.js"],"names":["React","AsyncSelect","SelectBar","Component","constructor","props","testfunc","testa","value","label","console","log","loadOptions","inputValue","callback","setTimeout","testfun","handleInputChange","newValue","replace","setState","state","autosuggest","response","fetch","headers","res","json","suggestions","resfilter","i","length","val","push","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport AsyncSelect from \"react-select/lib/Async\";\r\n\r\nclass SelectBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {inputValue: \"\"};\r\n    }\r\n\r\n    async autosuggest() {\r\n        const response = await fetch(\r\n            \"https://yutong-li.cognitiveservices.azure.com/bing/v7.0/suggestions?mkt=en-US&q=\" + this.state.inputValue, {\r\n                headers: {\r\n                    'Ocp-Apim-Subscription-Key': 'a42b6d1b1fad47d7b33425d7eea2f04f'\r\n                }\r\n            });\r\n        const res = await response.json();\r\n        let suggestions = [];\r\n        console.log(res);\r\n        if (\"suggestionGroups\" in res) {\r\n            var resfilter = res[\"suggestionGroups\"][0][\"searchSuggestions\"];\r\n            for (var i = 0; i < resfilter.length; i++) {\r\n                let val = resfilter[i][\"displayText\"];\r\n                suggestions.push({value: val, label: val});\r\n            }\r\n        }\r\n        //return suggestions;\r\n        var testa = [{value: 'a', label: 'a'}, {value: 'b', label: 'b'}, {value: 'c', label: 'c'}];\r\n        console.log(testa);\r\n        return testa;\r\n    }\r\n\r\n    testfunc = () => {\r\n        var testa = [{value: 'a', label: 'a'}, {value: 'b', label: 'b'}, {value: 'c', label: 'c'}];\r\n        console.log(testa);\r\n        return testa;\r\n    }\r\n    loadOptions = (inputValue, callback) => {\r\n        setTimeout(() => {\r\n            callback(this.testfun());\r\n        }, 1000);\r\n    };\r\n\r\n    handleInputChange = (newValue) => {\r\n        const inputValue = newValue.replace(/\\W/g, '');\r\n        this.setState({inputValue});\r\n        return inputValue;\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AsyncSelect placeholder=\"Enter keyword ..\" className=\"selectBar\" onInputChange={this.handleInputChange}\r\n                         loadOptions={this.loadOptions}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SelectBar;\r\n"]},"metadata":{},"sourceType":"module"}