{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\src\\\\Components\\\\FavoriteList.js\";\nimport React, { Component } from \"react\";\nimport DetailFavorite from \"./DetailFavorite\";\nimport LoadSpinner from \"./LoadSpinner\";\n\nclass FavoriteList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.callGuardian = (id, idx) => {\n      fetch(\"http://localhost:9000/guardian/article\" + id).then(res => res.json()).then(res => {\n        let newdata = this.state.datas;\n        newdata.push(res['response']['content']);\n        this.setState({\n          datas: newdata\n        });\n        if (idx === this.state.data.length - 1) this.setState({\n          isLoaded: true\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.callNYTimes = (id, idx) => {\n      fetch(\"http://localhost:9000/nytimes/article\" + id).then(res => res.json()).then(res => {\n        let newdata = this.state.datas;\n        newdata.push(res['response']['docs']);\n        this.setState({\n          datas: newdata\n        });\n        if (idx === this.state.data.length - 1) this.setState({\n          isLoaded: true\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.state = {\n      isLoaded: false,\n      datas: []\n    };\n  }\n\n  render() {\n    let id = [];\n\n    for (let i = 0; i < this.props.ids.length; i++) {\n      id.push(this.props.ids[i]);\n    }\n\n    for (let i = 0; i < id.length; i++) {\n      let checking = id[i].substr(4, 4) !== 'http';\n      if (checking) this.callGuardian(id[i], i);else this.callGuardian(id[i], i);\n    }\n\n    if (this.state.error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Error: \", this.state.error.message);\n    } else if (!this.state.isLoaded) {\n      return React.createElement(LoadSpinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.state.datas.map(data => React.createElement(DetailFavorite, {\n        data: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nexport default FavoriteList;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/FavoriteList.js"],"names":["React","Component","DetailFavorite","LoadSpinner","FavoriteList","constructor","props","callGuardian","id","idx","fetch","then","res","json","newdata","state","datas","push","setState","data","length","isLoaded","error","callNYTimes","render","i","ids","checking","substr","message","map"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport DetailFavorite from \"./DetailFavorite\";\r\nimport LoadSpinner from \"./LoadSpinner\";\r\n\r\nclass FavoriteList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isLoaded: false, datas: []};\r\n    }\r\n\r\n    callGuardian = (id, idx) => {\r\n        fetch(\"http://localhost:9000/guardian/article\" + id)\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    let newdata = this.state.datas;\r\n                    newdata.push(res['response']['content']);\r\n                    this.setState({datas: newdata});\r\n                    if (idx === this.state.data.length - 1)\r\n                        this.setState({isLoaded: true});\r\n                }, error => {\r\n                    this.setState({error});\r\n                })\r\n    };\r\n\r\n    callNYTimes = (id, idx) => {\r\n        fetch(\"http://localhost:9000/nytimes/article\" + id)\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    let newdata = this.state.datas;\r\n                    newdata.push(res['response']['docs']);\r\n                    this.setState({datas: newdata});\r\n                    if (idx === this.state.data.length - 1)\r\n                        this.setState({isLoaded: true});\r\n                }, error => {\r\n                    this.setState({error});\r\n                })\r\n    };\r\n\r\n    render() {\r\n        let id = [];\r\n        for (let i = 0; i < this.props.ids.length; i++) {\r\n            id.push(this.props.ids[i]);\r\n        }\r\n        for (let i = 0; i < id.length; i++) {\r\n            let checking = id[i].substr(4, 4) !== 'http';\r\n            if (checking)\r\n                this.callGuardian(id[i], i);\r\n            else\r\n                this.callGuardian(id[i], i);\r\n        }\r\n        if (this.state.error) {\r\n            return <div>Error: {this.state.error.message}</div>;\r\n        } else if (!this.state.isLoaded) {\r\n            return <LoadSpinner/>;\r\n        } else {\r\n            return (\r\n                <div>\r\n                    {this.state.datas.map((data) => (\r\n                        <DetailFavorite data={data}/>\r\n                    ))}\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n}\r\n\r\nexport default FavoriteList;"]},"metadata":{},"sourceType":"module"}