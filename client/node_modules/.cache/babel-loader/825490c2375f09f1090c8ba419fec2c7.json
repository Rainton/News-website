{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\src\\\\Components\\\\NewsCard.js\";\nimport React from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport LinesEllipsis from \"react-lines-ellipsis\";\n\nclass NewsCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      data: [],\n      GuardianChecked: true\n    };\n  }\n\n  callGuardian() {\n    fetch(\"http://localhost:9000/guardian\").then(res => res.json()).then(res => {\n      this.setState({\n        isLoaded: true,\n        data: res['response']['results']\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  callNYTimes() {\n    fetch(\"http://localhost:9000/nytimes\").then(res => res.json()).then(res => {\n      this.setState({\n        isLoaded: true,\n        data: res['results']\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  componentDidMount() {\n    if (this.state.GuardianChecked) this.callGuardian();else this.callNYTimes();\n  }\n\n  render() {\n    if (this.state.error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Error: \", this.state.error.message);\n    } else if (!this.state.isLoaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      let title = new Array(10);\n      let image = new Array(10);\n      let description = new Array(10);\n      let date = new Array(10);\n      let section = new Array(10);\n\n      if (this.state.GuardianChecked) {\n        for (let i = 0; i < 10; i++) {\n          if (this.state.data[i]['blocks']['main']['elements']['0']['assets'].size !== 0) image[i] = this.state.data[i]['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];else image[i] = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n          title[i] = this.state.data[i]['webTitle'];\n          description[i] = this.state.data[i]['blocks']['body']['0']['bodyTextSummary'];\n          date[i] = this.state.data[i]['webPublicationDate'].slice(0, 10);\n        }\n      } else {\n        for (let i = 0; i < 10; i++) {\n          title[i] = this.state.data[i]['title'];\n          description[i] = this.state.data[i]['abstract'];\n          date[i] = this.state.data[i]['published_date'].slice(0, 10);\n          if (this.state.data[i]['multimedia'].size !== 0) image[i] = this.state.data[i]['multimedia']['0']['url'];else image[i] = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\n        }\n      }\n\n      return React.createElement(Card, {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"align-items-center justify-content-center\",\n        style: {\n          display: \"flex\",\n          width: \"100%\",\n          height: \"100%\",\n          padding: \"1.25rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"img-thumbnail card-img\",\n        style: {\n          backgroundImage: 'url(' + image[0] + ')'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        md: 9,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, title[0]))), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(LinesEllipsis, {\n        text: description[0],\n        maxLine: \"3\",\n        ellipsis: \"...\",\n        basedOn: \"words\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(Card.Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, date[0])))))));\n    }\n  }\n\n}\n\nexport default NewsCard;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/NewsCard.js"],"names":["React","Card","Row","Col","LinesEllipsis","NewsCard","Component","constructor","props","state","error","isLoaded","data","GuardianChecked","callGuardian","fetch","then","res","json","setState","callNYTimes","componentDidMount","render","message","title","Array","image","description","date","section","i","size","slice","width","display","height","padding","backgroundImage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport LinesEllipsis from \"react-lines-ellipsis\";\r\n\r\nclass NewsCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {error: null, isLoaded: false, data: [], GuardianChecked: true};\r\n    }\r\n\r\n    callGuardian() {\r\n        fetch(\"http://localhost:9000/guardian\")\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    this.setState({isLoaded: true, data: res['response']['results']});\r\n                }, error => {\r\n                    this.setState({isLoaded: true, error});\r\n                })\r\n    }\r\n\r\n    callNYTimes() {\r\n        fetch(\"http://localhost:9000/nytimes\")\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    this.setState({isLoaded: true, data: res['results']});\r\n                }, error => {\r\n                    this.setState({isLoaded: true, error});\r\n                })\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.GuardianChecked)\r\n            this.callGuardian();\r\n        else\r\n            this.callNYTimes();\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <div>Error: {this.state.error.message}</div>;\r\n        } else if (!this.state.isLoaded) {\r\n            return <div>Loading...</div>\r\n        } else {\r\n            let title = new Array(10);\r\n            let image = new Array(10);\r\n            let description = new Array(10);\r\n            let date = new Array(10);\r\n            let section = new Array(10);\r\n            if (this.state.GuardianChecked) {\r\n                for (let i = 0; i < 10; i++) {\r\n                    if (this.state.data[i]['blocks']['main']['elements']['0']['assets'].size !== 0)\r\n                        image[i] = this.state.data[i]['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];\r\n                    else\r\n                        image[i] = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\r\n                    title[i] = this.state.data[i]['webTitle'];\r\n                    description[i] = this.state.data[i]['blocks']['body']['0']['bodyTextSummary'];\r\n                    date[i] = this.state.data[i]['webPublicationDate'].slice(0, 10);\r\n                }\r\n            } else {\r\n                for (let i = 0; i < 10; i++) {\r\n                    title[i] = this.state.data[i]['title'];\r\n                    description[i] = this.state.data[i]['abstract'];\r\n                    date[i] = this.state.data[i]['published_date'].slice(0, 10);\r\n                    if (this.state.data[i]['multimedia'].size !== 0)\r\n                        image[i] = this.state.data[i]['multimedia']['0']['url'];\r\n                    else\r\n                        image[i] = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\r\n                }\r\n            }\r\n            return (\r\n                <Card style={{width: \"100%\"}}>\r\n                    <div class=\"container-fluid\">\r\n                        <Row>\r\n                            <Col md={3}>\r\n                                <div className=\"align-items-center justify-content-center\"\r\n                                     style={{display: \"flex\", width: \"100%\", height: \"100%\", padding: \"1.25rem\"}}>\r\n                                    <div className=\"img-thumbnail card-img\"\r\n                                         style={{backgroundImage: 'url(' + image[0] + ')'}}/>\r\n                                </div>\r\n                            </Col>\r\n                            <Col md={9}>\r\n                                <Card.Body>\r\n                                    <Card.Title><strong><em>{title[0]}</em></strong></Card.Title>\r\n                                    <Card.Text>\r\n                                        <LinesEllipsis\r\n                                            text={description[0]} maxLine='3' ellipsis='...' basedOn='words'/>\r\n                                    </Card.Text>\r\n                                    <Card.Text><em>{date[0]}</em></Card.Text>\r\n                                </Card.Body>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                </Card>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default NewsCard;"]},"metadata":{},"sourceType":"module"}