{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import DetailCard from\"./DetailCard\";import LoadSpinner from\"./LoadSpinner\";var CardList=/*#__PURE__*/function(_Component){_inherits(CardList,_Component);function CardList(props){var _this;_classCallCheck(this,CardList);_this=_possibleConstructorReturn(this,_getPrototypeOf(CardList).call(this,props));_this.state={error:null,isLoaded:false,GuardianChecked:props.checked,section:props.section};return _this;}_createClass(CardList,[{key:\"callGuardian\",value:function callGuardian(s){var _this2=this;if(s===\"\"){fetch(\"https://yli59322-hw8-571-backend.appspot.com/guardian\").then(function(res){return res.json();}).then(function(res){_this2.setState({isLoaded:true,data:res});},function(error){_this2.setState({isLoaded:true,error:error});});}else{fetch(\"https://yli59322-hw8-571-backend.appspot.com/guardian/\"+s).then(function(res){return res.json();}).then(function(res){_this2.setState({isLoaded:true,data:res});},function(error){_this2.setState({isLoaded:true,error:error});});}}},{key:\"callNYTimes\",value:function callNYTimes(s){var _this3=this;if(s===\"\"){fetch(\"https://yli59322-hw8-571-backend.appspot.com/nytimes\").then(function(res){return res.json();}).then(function(res){_this3.setState({isLoaded:true,data:res});},function(error){_this3.setState({isLoaded:true,error:error});});}else{fetch(\"https://yli59322-hw8-571-backend.appspot.com/nytimes/\"+s).then(function(res){return res.json();}).then(function(res){_this3.setState({isLoaded:true,data:res});},function(error){_this3.setState({isLoaded:true,error:error});});}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.GuardianChecked)this.callGuardian(this.state.section);else this.callNYTimes(this.state.section);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.state.isLoaded===false){if(this.state.GuardianChecked)this.callGuardian(this.state.section);else this.callNYTimes(this.state.section);}}},{key:\"render\",value:function render(){console.log(this.state);if(this.state.error){return React.createElement(\"div\",null,\"Error: \",this.state.error.message);}else if(!this.state.isLoaded){return React.createElement(\"div\",{className:\"load-container\"},React.createElement(LoadSpinner,null));}else{var array=[];for(var i=0;i<this.state.data.length;i++){array.push(React.createElement(DetailCard,{key:i,data:this.state.data[i],checked:this.state.GuardianChecked}));}return React.createElement(\"div\",{style:{boxSizing:\"content-box\"}},array);}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,nextState){if(nextProps.checked!==nextState.GuardianChecked){return{GuardianChecked:nextProps.checked,isLoaded:false};}return null;}}]);return CardList;}(Component);export default CardList;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI571/hw8/client/src/Components/CardList.js"],"names":["React","Component","DetailCard","LoadSpinner","CardList","props","state","error","isLoaded","GuardianChecked","checked","section","s","fetch","then","res","json","setState","data","callGuardian","callNYTimes","prevProps","prevState","snapshot","console","log","message","array","i","length","push","boxSizing","nextProps","nextState"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport DetailCard from \"./DetailCard\";\r\nimport LoadSpinner from \"./LoadSpinner\";\r\n\r\nclass CardList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            GuardianChecked: props.checked,\r\n            section: props.section\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, nextState) {\r\n        if (nextProps.checked !== nextState.GuardianChecked) {\r\n            return {\r\n                GuardianChecked: nextProps.checked,\r\n                isLoaded: false\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    callGuardian(s) {\r\n        if (s === \"\") {\r\n            fetch(\"https://yli59322-hw8-571-backend.appspot.com/guardian\")\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        } else {\r\n            fetch(\"https://yli59322-hw8-571-backend.appspot.com/guardian/\" + s)\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        }\r\n    }\r\n\r\n    callNYTimes(s) {\r\n        if (s === \"\") {\r\n            fetch(\"https://yli59322-hw8-571-backend.appspot.com/nytimes\")\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        } else {\r\n            fetch(\"https://yli59322-hw8-571-backend.appspot.com/nytimes/\" + s)\r\n                .then(res => res.json())\r\n                .then(\r\n                    res => {\r\n                        this.setState({isLoaded: true, data: res});\r\n                    }, error => {\r\n                        this.setState({isLoaded: true, error});\r\n                    })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.GuardianChecked)\r\n            this.callGuardian(this.state.section);\r\n        else\r\n            this.callNYTimes(this.state.section);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.state.isLoaded === false) {\r\n            if (this.state.GuardianChecked)\r\n                this.callGuardian(this.state.section);\r\n            else\r\n                this.callNYTimes(this.state.section);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        if (this.state.error) {\r\n            return <div>Error: {this.state.error.message}</div>;\r\n        } else if (!this.state.isLoaded) {\r\n            return(\r\n                <div className=\"load-container\">\r\n                    <LoadSpinner/>\r\n                </div>\r\n            );\r\n        } else {\r\n            let array = [];\r\n            for (let i = 0; i < this.state.data.length; i++) {\r\n                array.push(\r\n                    <DetailCard key={i} data={this.state.data[i]} checked={this.state.GuardianChecked}/>\r\n                );\r\n            }\r\n            return (\r\n                <div style={{boxSizing: \"content-box\"}}>\r\n                    {array}\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n}\r\n\r\nexport default CardList;"]},"metadata":{},"sourceType":"module"}