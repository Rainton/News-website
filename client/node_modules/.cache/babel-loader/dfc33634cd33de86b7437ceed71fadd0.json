{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import Card from\"react-bootstrap/Card\";import Image from\"react-bootstrap/Image\";import Badge from\"react-bootstrap/Badge\";import{withRouter}from\"react-router-dom\";import Share from\"./Share\";var DetailSearch=/*#__PURE__*/function(_React$Component){_inherits(DetailSearch,_React$Component);function DetailSearch(props){var _this;_classCallCheck(this,DetailSearch);_this=_possibleConstructorReturn(this,_getPrototypeOf(DetailSearch).call(this,props));_this.clickCard=function(e){var clickTarget=e.target.localName;console.log(clickTarget);if(clickTarget===\"path\"||clickTarget===\"span\"||clickTarget===\"circle\"||clickTarget===\"svg\")return;var id;if(_this.state.GuardianChecked)id=_this.state.data['id'];else id=_this.state.data['web_url'];var queryString=\"id=\"+id;_this.props.history.push('/article?'+queryString);};_this.state={data:props.data,GuardianChecked:props.checked};return _this;}_createClass(DetailSearch,[{key:\"render\",value:function render(){var title;var image;var description;var date;var section;var sectionClassName;var url;if(this.state.GuardianChecked){if('main'in this.state.data['blocks']&&this.state.data['blocks']['main']['elements']['0']['assets'].length!==0)image=this.state.data['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];else image='https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';title=this.state.data['webTitle'];description=this.state.data['blocks']['body']['0']['bodyTextSummary'];date=this.state.data['webPublicationDate'].slice(0,10);url=this.state.data['webUrl'];section=this.state.data['sectionId'].toUpperCase();if(section==='SPORT')section='SPORTS';if(section==='WORLD')sectionClassName='badge-world';else if(section==='POLITICS')sectionClassName='badge-politics';else if(section==='BUSINESS')sectionClassName='badge-business';else if(section==='TECHNOLOGY')sectionClassName='badge-technology';else if(section==='SPORTS')sectionClassName='badge-sports';else sectionClassName='badge-other';}else{title=this.state.data['headline']['main'];description=this.state.data['abstract'];date=this.state.data['pub_date'].slice(0,10);section=this.state.data['news_desk'].toUpperCase();if(section===\"NONE\")section=\"\";url=this.state.data['web_url'];if('multimedia'in this.state.data&&this.state.data['multimedia']!==null&&this.state.data['multimedia'].length!==0){var k=0;for(;k<this.state.data['multimedia'].length;k++){if(this.state.data['multimedia'][k]['width']>=2000)break;}if(k<this.state.data['multimedia'].length){var tmpUrl=this.state.data['multimedia'][k]['url'];if(tmpUrl[0]==='i')image='https://www.nytimes.com/'+tmpUrl;else image=tmpUrl;}else image='https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';}else image='https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';if(section==='WORLD')sectionClassName='badge-world';else if(section==='POLITICS')sectionClassName='badge-politics';else if(section==='BUSINESS')sectionClassName='badge-business';else if(section==='TECHNOLOGY')sectionClassName='badge-technology';else if(section==='SPORTS')sectionClassName='badge-sports';else sectionClassName='badge-other';}return React.createElement(Card,{onClick:this.clickCard},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(Card.Title,{className:\"small-card-title\"},title,React.createElement(Share,{url:url,title:title})),React.createElement(\"div\",{className:\"align-items-center justify-content-center search-img\"},React.createElement(Image,{className:\"img-thumbnail img-fluid\",src:image})),React.createElement(Card.Body,{className:\"search-card-body\"},React.createElement(Card.Text,{className:\"search-text\"},React.createElement(\"em\",null,date),React.createElement(Badge,{className:sectionClassName},section)))));}}]);return DetailSearch;}(React.Component);export default withRouter(DetailSearch);","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/DetailSearch.js"],"names":["React","Card","Image","Badge","withRouter","Share","DetailSearch","props","clickCard","e","clickTarget","target","localName","console","log","id","state","GuardianChecked","data","queryString","history","push","checked","title","image","description","date","section","sectionClassName","url","length","slice","toUpperCase","k","tmpUrl","Component"],"mappings":"45BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,GAEMC,CAAAA,Y,kFACF,sBAAYC,KAAZ,CAAmB,8CACf,8EAAMA,KAAN,GADe,MAQnBC,SARmB,CAQP,SAAAC,CAAC,CAAI,CACb,GAAIC,CAAAA,WAAW,CAAGD,CAAC,CAACE,MAAF,CAASC,SAA3B,CACAC,OAAO,CAACC,GAAR,CAAYJ,WAAZ,EACA,GAAIA,WAAW,GAAK,MAAhB,EAA0BA,WAAW,GAAK,MAA1C,EAAoDA,WAAW,GAAK,QAApE,EAAgFA,WAAW,GAAK,KAApG,CACI,OACJ,GAAIK,CAAAA,EAAJ,CACA,GAAI,MAAKC,KAAL,CAAWC,eAAf,CACIF,EAAE,CAAG,MAAKC,KAAL,CAAWE,IAAX,CAAgB,IAAhB,CAAL,CADJ,IAGIH,CAAAA,EAAE,CAAG,MAAKC,KAAL,CAAWE,IAAX,CAAgB,SAAhB,CAAL,CACJ,GAAIC,CAAAA,WAAW,CAAG,MAAQJ,EAA1B,CACA,MAAKR,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,YAAcF,WAAtC,EACH,CApBkB,CAEf,MAAKH,KAAL,CAAa,CACTE,IAAI,CAAEX,KAAK,CAACW,IADH,CAETD,eAAe,CAAEV,KAAK,CAACe,OAFd,CAAb,CAFe,aAMlB,C,gEAgBQ,CACL,GAAIC,CAAAA,KAAJ,CACA,GAAIC,CAAAA,KAAJ,CACA,GAAIC,CAAAA,WAAJ,CACA,GAAIC,CAAAA,IAAJ,CACA,GAAIC,CAAAA,OAAJ,CACA,GAAIC,CAAAA,gBAAJ,CACA,GAAIC,CAAAA,GAAJ,CACA,GAAI,KAAKb,KAAL,CAAWC,eAAf,CAAgC,CAC5B,GAAI,QAAU,MAAKD,KAAL,CAAWE,IAAX,CAAgB,QAAhB,CAAV,EAAuC,KAAKF,KAAL,CAAWE,IAAX,CAAgB,QAAhB,EAA0B,MAA1B,EAAkC,UAAlC,EAA8C,GAA9C,EAAmD,QAAnD,EAA6DY,MAA7D,GAAwE,CAAnH,CACIN,KAAK,CAAG,KAAKR,KAAL,CAAWE,IAAX,CAAgB,QAAhB,EAA0B,MAA1B,EAAkC,UAAlC,EAA8C,GAA9C,EAAmD,QAAnD,EAA6Da,KAA7D,CAAmE,CAAC,CAApE,EAAuE,CAAvE,EAA0E,MAA1E,CAAR,CADJ,IAGIP,CAAAA,KAAK,CAAG,qFAAR,CACJD,KAAK,CAAG,KAAKP,KAAL,CAAWE,IAAX,CAAgB,UAAhB,CAAR,CACAO,WAAW,CAAG,KAAKT,KAAL,CAAWE,IAAX,CAAgB,QAAhB,EAA0B,MAA1B,EAAkC,GAAlC,EAAuC,iBAAvC,CAAd,CACAQ,IAAI,CAAG,KAAKV,KAAL,CAAWE,IAAX,CAAgB,oBAAhB,EAAsCa,KAAtC,CAA4C,CAA5C,CAA+C,EAA/C,CAAP,CACAF,GAAG,CAAG,KAAKb,KAAL,CAAWE,IAAX,CAAgB,QAAhB,CAAN,CACAS,OAAO,CAAG,KAAKX,KAAL,CAAWE,IAAX,CAAgB,WAAhB,EAA6Bc,WAA7B,EAAV,CACA,GAAIL,OAAO,GAAK,OAAhB,CACIA,OAAO,CAAG,QAAV,CACJ,GAAIA,OAAO,GAAK,OAAhB,CACIC,gBAAgB,CAAG,aAAnB,CADJ,IAEK,IAAID,OAAO,GAAK,UAAhB,CACDC,gBAAgB,CAAG,gBAAnB,CADC,IAEA,IAAID,OAAO,GAAK,UAAhB,CACDC,gBAAgB,CAAG,gBAAnB,CADC,IAEA,IAAID,OAAO,GAAK,YAAhB,CACDC,gBAAgB,CAAG,kBAAnB,CADC,IAEA,IAAID,OAAO,GAAK,QAAhB,CACDC,gBAAgB,CAAG,cAAnB,CADC,IAGDA,CAAAA,gBAAgB,CAAG,aAAnB,CAEP,CAzBD,IAyBO,CACHL,KAAK,CAAG,KAAKP,KAAL,CAAWE,IAAX,CAAgB,UAAhB,EAA4B,MAA5B,CAAR,CACAO,WAAW,CAAG,KAAKT,KAAL,CAAWE,IAAX,CAAgB,UAAhB,CAAd,CACAQ,IAAI,CAAG,KAAKV,KAAL,CAAWE,IAAX,CAAgB,UAAhB,EAA4Ba,KAA5B,CAAkC,CAAlC,CAAqC,EAArC,CAAP,CACAJ,OAAO,CAAG,KAAKX,KAAL,CAAWE,IAAX,CAAgB,WAAhB,EAA6Bc,WAA7B,EAAV,CACA,GAAIL,OAAO,GAAK,MAAhB,CACIA,OAAO,CAAG,EAAV,CACJE,GAAG,CAAG,KAAKb,KAAL,CAAWE,IAAX,CAAgB,SAAhB,CAAN,CACA,GAAI,cAAgB,MAAKF,KAAL,CAAWE,IAA3B,EAAmC,KAAKF,KAAL,CAAWE,IAAX,CAAgB,YAAhB,IAAkC,IAArE,EAA6E,KAAKF,KAAL,CAAWE,IAAX,CAAgB,YAAhB,EAA8BY,MAA9B,GAAyC,CAA1H,CAA6H,CACzH,GAAIG,CAAAA,CAAC,CAAG,CAAR,CACA,KAAOA,CAAC,CAAG,KAAKjB,KAAL,CAAWE,IAAX,CAAgB,YAAhB,EAA8BY,MAAzC,CAAiDG,CAAC,EAAlD,CAAsD,CAClD,GAAI,KAAKjB,KAAL,CAAWE,IAAX,CAAgB,YAAhB,EAA8Be,CAA9B,EAAiC,OAAjC,GAA6C,IAAjD,CACI,MACP,CACD,GAAIA,CAAC,CAAG,KAAKjB,KAAL,CAAWE,IAAX,CAAgB,YAAhB,EAA8BY,MAAtC,CAA8C,CAC1C,GAAII,CAAAA,MAAM,CAAG,KAAKlB,KAAL,CAAWE,IAAX,CAAgB,YAAhB,EAA8Be,CAA9B,EAAiC,KAAjC,CAAb,CACA,GAAIC,MAAM,CAAC,CAAD,CAAN,GAAc,GAAlB,CACIV,KAAK,CAAG,2BAA6BU,MAArC,CADJ,IAGIV,CAAAA,KAAK,CAAGU,MAAR,CACP,CAND,IAOIV,CAAAA,KAAK,CAAG,oEAAR,CACP,CAdD,IAeIA,CAAAA,KAAK,CAAG,oEAAR,CACJ,GAAIG,OAAO,GAAK,OAAhB,CACIC,gBAAgB,CAAG,aAAnB,CADJ,IAEK,IAAID,OAAO,GAAK,UAAhB,CACDC,gBAAgB,CAAG,gBAAnB,CADC,IAEA,IAAID,OAAO,GAAK,UAAhB,CACDC,gBAAgB,CAAG,gBAAnB,CADC,IAEA,IAAID,OAAO,GAAK,YAAhB,CACDC,gBAAgB,CAAG,kBAAnB,CADC,IAEA,IAAID,OAAO,GAAK,QAAhB,CACDC,gBAAgB,CAAG,cAAnB,CADC,IAGDA,CAAAA,gBAAgB,CAAG,aAAnB,CACP,CACD,MACI,qBAAC,IAAD,EAAM,OAAO,CAAE,KAAKpB,SAApB,EACI,2BAAK,SAAS,CAAC,iBAAf,EACI,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,kBAAtB,EACKe,KADL,CAEI,oBAAC,KAAD,EAAO,GAAG,CAAEM,GAAZ,CAAiB,KAAK,CAAEN,KAAxB,EAFJ,CADJ,CAKI,2BAAK,SAAS,CAAC,sDAAf,EACI,oBAAC,KAAD,EAAO,SAAS,CAAC,yBAAjB,CAA2C,GAAG,CAAEC,KAAhD,EADJ,CALJ,CAQI,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,kBAArB,EACI,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,aAArB,EACI,8BAAKE,IAAL,CADJ,CAEI,oBAAC,KAAD,EAAO,SAAS,CAAEE,gBAAlB,EAAqCD,OAArC,CAFJ,CADJ,CARJ,CADJ,CADJ,CAmBH,C,0BAhHsB3B,KAAK,CAACmC,S,EAmHjC,cAAe/B,CAAAA,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["import React from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Badge from \"react-bootstrap/Badge\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport Share from \"./Share\";\r\n\r\nclass DetailSearch extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n            GuardianChecked: props.checked,\r\n        };\r\n    }\r\n\r\n    clickCard = e => {\r\n        let clickTarget = e.target.localName;\r\n        console.log(clickTarget);\r\n        if (clickTarget === \"path\" || clickTarget === \"span\" || clickTarget === \"circle\" || clickTarget === \"svg\")\r\n            return;\r\n        let id;\r\n        if (this.state.GuardianChecked)\r\n            id = this.state.data['id'];\r\n        else\r\n            id = this.state.data['web_url'];\r\n        let queryString = \"id=\" + id;\r\n        this.props.history.push('/article?' + queryString);\r\n    };\r\n\r\n    render() {\r\n        let title;\r\n        let image;\r\n        let description;\r\n        let date;\r\n        let section;\r\n        let sectionClassName;\r\n        let url;\r\n        if (this.state.GuardianChecked) {\r\n            if ('main' in this.state.data['blocks'] && this.state.data['blocks']['main']['elements']['0']['assets'].length !== 0)\r\n                image = this.state.data['blocks']['main']['elements']['0']['assets'].slice(-1)[0]['file'];\r\n            else\r\n                image = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\r\n            title = this.state.data['webTitle'];\r\n            description = this.state.data['blocks']['body']['0']['bodyTextSummary'];\r\n            date = this.state.data['webPublicationDate'].slice(0, 10);\r\n            url = this.state.data['webUrl'];\r\n            section = this.state.data['sectionId'].toUpperCase();\r\n            if (section === 'SPORT')\r\n                section = 'SPORTS';\r\n            if (section === 'WORLD')\r\n                sectionClassName = 'badge-world';\r\n            else if (section === 'POLITICS')\r\n                sectionClassName = 'badge-politics';\r\n            else if (section === 'BUSINESS')\r\n                sectionClassName = 'badge-business';\r\n            else if (section === 'TECHNOLOGY')\r\n                sectionClassName = 'badge-technology';\r\n            else if (section === 'SPORTS')\r\n                sectionClassName = 'badge-sports';\r\n            else\r\n                sectionClassName = 'badge-other';\r\n\r\n        } else {\r\n            title = this.state.data['headline']['main'];\r\n            description = this.state.data['abstract'];\r\n            date = this.state.data['pub_date'].slice(0, 10);\r\n            section = this.state.data['news_desk'].toUpperCase();\r\n            if (section === \"NONE\")\r\n                section = \"\";\r\n            url = this.state.data['web_url'];\r\n            if ('multimedia' in this.state.data && this.state.data['multimedia'] !== null && this.state.data['multimedia'].length !== 0) {\r\n                let k = 0;\r\n                for (; k < this.state.data['multimedia'].length; k++) {\r\n                    if (this.state.data['multimedia'][k]['width'] >= 2000)\r\n                        break;\r\n                }\r\n                if (k < this.state.data['multimedia'].length) {\r\n                    let tmpUrl = this.state.data['multimedia'][k]['url'];\r\n                    if (tmpUrl[0] === 'i')\r\n                        image = 'https://www.nytimes.com/' + tmpUrl;\r\n                    else\r\n                        image = tmpUrl;\r\n                } else\r\n                    image = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\r\n            } else\r\n                image = 'https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg';\r\n            if (section === 'WORLD')\r\n                sectionClassName = 'badge-world';\r\n            else if (section === 'POLITICS')\r\n                sectionClassName = 'badge-politics';\r\n            else if (section === 'BUSINESS')\r\n                sectionClassName = 'badge-business';\r\n            else if (section === 'TECHNOLOGY')\r\n                sectionClassName = 'badge-technology';\r\n            else if (section === 'SPORTS')\r\n                sectionClassName = 'badge-sports';\r\n            else\r\n                sectionClassName = 'badge-other';\r\n        }\r\n        return (\r\n            <Card onClick={this.clickCard}>\r\n                <div className=\"container-fluid\">\r\n                    <Card.Title className=\"small-card-title\">\r\n                        {title}\r\n                        <Share url={url} title={title}/>\r\n                    </Card.Title>\r\n                    <div className=\"align-items-center justify-content-center search-img\">\r\n                        <Image className=\"img-thumbnail img-fluid\" src={image}/>\r\n                    </div>\r\n                    <Card.Body className=\"search-card-body\">\r\n                        <Card.Text className=\"search-text\">\r\n                            <em>{date}</em>\r\n                            <Badge className={sectionClassName}>{section}</Badge>\r\n                        </Card.Text>\r\n                    </Card.Body>\r\n                </div>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(DetailSearch);"]},"metadata":{},"sourceType":"module"}