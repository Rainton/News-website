{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\75165\\\\Documents\\\\course\\\\CSCI 571\\\\hw8\\\\client\\\\src\\\\Components\\\\FavoriteList.js\";\nimport React, { Component } from \"react\";\nimport DetailFavorite from \"./DetailFavorite\";\nimport LoadSpinner from \"./LoadSpinner\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\n\nclass FavoriteList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.callGuardian = (id, idx) => {\n      fetch(\"http://localhost:9000/guardian/article\" + id).then(res => res.json()).then(res => {\n        let newdata = this.state.datas;\n        newdata.push(res['response']['content']);\n        this.setState({\n          datas: newdata\n        });\n        if (idx === this.props.ids.length - 1) this.setState({\n          isLoaded: true\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.callNYTimes = (id, idx) => {\n      fetch(\"http://localhost:9000/nytimes/article\" + id).then(res => res.json()).then(res => {\n        let newdata = this.state.datas;\n        newdata.push(res['response']['docs'][0]);\n        this.setState({\n          datas: newdata\n        });\n        if (idx === this.props.ids.length - 1) this.setState({\n          isLoaded: true\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.state = {\n      isLoaded: false,\n      datas: []\n    };\n  }\n\n  componentDidMount() {\n    let id = [];\n\n    for (let i = 0; i < this.props.ids.length; i++) {\n      id.push(this.props.ids[i]);\n    }\n\n    for (let i = 0; i < id.length; i++) {\n      let checking = id[i].substr(4, 4) !== 'http';\n      if (checking) this.callGuardian(id[i], i);else this.callNYTimes(id[i], i);\n    }\n  }\n\n  render() {\n    if (this.props.ids.length === 0) {\n      return null;\n    } else if (this.state.error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Error: \", this.state.error.message);\n    } else if (!this.state.isLoaded) {\n      return React.createElement(LoadSpinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    } else {\n      let array = [];\n\n      for (let i = 0; i < this.state.datas.length; i++) {\n        array.push(React.createElement(Col, {\n          md: 3,\n          style: {\n            \"padding\": 0\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(DetailFavorite, {\n          key: i,\n          data: this.state.datas[i],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        })));\n      }\n\n      console.log(array);\n      return React.createElement(\"div\", {\n        style: {\n          \"display\": \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, array);\n    }\n  }\n\n}\n\nexport default FavoriteList;","map":{"version":3,"sources":["C:/Users/75165/Documents/course/CSCI 571/hw8/client/src/Components/FavoriteList.js"],"names":["React","Component","DetailFavorite","LoadSpinner","Col","Row","FavoriteList","constructor","props","callGuardian","id","idx","fetch","then","res","json","newdata","state","datas","push","setState","ids","length","isLoaded","error","callNYTimes","componentDidMount","i","checking","substr","render","message","array","console","log"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport DetailFavorite from \"./DetailFavorite\";\r\nimport LoadSpinner from \"./LoadSpinner\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nclass FavoriteList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isLoaded: false, datas: []};\r\n    }\r\n\r\n    callGuardian = (id, idx) => {\r\n        fetch(\"http://localhost:9000/guardian/article\" + id)\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    let newdata = this.state.datas;\r\n                    newdata.push(res['response']['content']);\r\n                    this.setState({datas: newdata});\r\n                    if (idx === this.props.ids.length - 1)\r\n                        this.setState({isLoaded: true});\r\n                }, error => {\r\n                    this.setState({error});\r\n                })\r\n    };\r\n\r\n    callNYTimes = (id, idx) => {\r\n        fetch(\"http://localhost:9000/nytimes/article\" + id)\r\n            .then(res => res.json())\r\n            .then(\r\n                res => {\r\n                    let newdata = this.state.datas;\r\n                    newdata.push(res['response']['docs'][0]);\r\n                    this.setState({datas: newdata});\r\n                    if (idx === this.props.ids.length - 1)\r\n                        this.setState({isLoaded: true});\r\n                }, error => {\r\n                    this.setState({error});\r\n                })\r\n    };\r\n\r\n    componentDidMount() {\r\n        let id = [];\r\n        for (let i = 0; i < this.props.ids.length; i++) {\r\n            id.push(this.props.ids[i]);\r\n        }\r\n        for (let i = 0; i < id.length; i++) {\r\n            let checking = id[i].substr(4, 4) !== 'http';\r\n            if (checking)\r\n                this.callGuardian(id[i], i);\r\n            else\r\n                this.callNYTimes(id[i], i);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.ids.length === 0) {\r\n            return null;\r\n        } else if (this.state.error) {\r\n            return <div>Error: {this.state.error.message}</div>;\r\n        } else if (!this.state.isLoaded) {\r\n            return <LoadSpinner/>;\r\n        } else {\r\n            let array = [];\r\n            for (let i = 0; i < this.state.datas.length; i++) {\r\n                array.push(\r\n                    <Col md={3} style={{\"padding\": 0}}>\r\n                        <DetailFavorite key={i} data={this.state.datas[i]}/>\r\n                    </Col>\r\n                );\r\n            }\r\n            console.log(array);\r\n            return (\r\n                <div style={{\"display\": \"flex\"}}>\r\n                    {array}\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n}\r\n\r\nexport default FavoriteList;"]},"metadata":{},"sourceType":"module"}